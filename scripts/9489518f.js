document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector("#header-ui"),e=document.querySelector("#c"),a=document.querySelector("#h"),s=document.querySelector("#t"),n=document.querySelector("#n"),i=document.querySelector("#r"),r=document.querySelector("#i"),o=document.querySelector("#s"),d=document.querySelector("#o"),c=document.querySelector("#u"),u=document.querySelector("#a"),l=document.querySelector("#f"),b=document.querySelector("#l"),m=document.querySelector("#g"),p=document.querySelector("#y"),A=document.querySelector("#b"),v=document.querySelector("#p"),g=document.querySelector("#d"),k=document.querySelector("#v"),f=document.querySelector("#m");function h(t,e="desktop"){switch(t){case"tools":"desktop"===e?(r.setAttribute("aria-expanded","true"),o.setAttribute("data-state","visible")):(v.setAttribute("aria-expanded","true"),g.setAttribute("data-state","visible"));break;case"settings":"desktop"===e?(c.setAttribute("aria-expanded","true"),u.setAttribute("data-state","visible")):(k.setAttribute("aria-expanded","true"),f.setAttribute("data-state","visible"))}}function S(t,e="desktop"){switch(t){case"tools":"desktop"===e?(r.setAttribute("aria-expanded","false"),o.setAttribute("data-state","invisible")):(v.setAttribute("aria-expanded","false"),g.setAttribute("data-state","invisible"));break;case"settings":"desktop"===e?(c.setAttribute("aria-expanded","false"),u.setAttribute("data-state","invisible")):(k.setAttribute("aria-expanded","false"),f.setAttribute("data-state","invisible"));break;default:"desktop"===e?(r.setAttribute("aria-expanded","false"),o.setAttribute("data-state","invisible"),c.setAttribute("aria-expanded","false"),u.setAttribute("data-state","invisible")):"mobile"===e?(v.setAttribute("aria-expanded","false"),g.setAttribute("data-state","invisible"),k.setAttribute("aria-expanded","false"),f.setAttribute("data-state","invisible")):(r.setAttribute("aria-expanded","false"),o.setAttribute("data-state","invisible"),c.setAttribute("aria-expanded","false"),u.setAttribute("data-state","invisible"),v.setAttribute("aria-expanded","false"),g.setAttribute("data-state","invisible"),k.setAttribute("aria-expanded","false"),f.setAttribute("data-state","invisible"))}}async function y(){let t=[];try{const e=await fetch("/api/search-data",{method:"GET",headers:{"Content-Type":"application/json"}}),a=await e.json();a.success?t=function(t){try{"string"==typeof t&&(t=JSON.parse(t))}catch(t){}return t}(a.data):console.error(a.error)}catch(t){console.error(t)}return t}e.addEventListener("click",(function(e){"open"===a.getAttribute("data-state")?(this.setAttribute("data-state","inactive"),a.setAttribute("data-state","close"),t.setAttribute("data-mobile-menu","close")):(this.setAttribute("data-state","active"),a.setAttribute("data-state","open"),t.setAttribute("data-mobile-menu","open"))})),s.addEventListener("mouseenter",(function(){S("all","desktop")})),n.addEventListener("mouseenter",(function(){S("all","desktop")})),i.addEventListener("mouseenter",(function(){S("all","desktop")})),r.addEventListener("mouseenter",(function(t){S("all","desktop"),h("tools","desktop")})),o.addEventListener("mouseleave",(function(t){S("tools","desktop")})),r.addEventListener("click",(function(t){t.stopPropagation(),"true"===this.getAttribute("aria-expanded")?S("tools","desktop"):h("tools","desktop")})),d.addEventListener("mouseenter",(function(){S("all","desktop")})),c.addEventListener("mouseenter",(function(t){S("all","desktop"),h("settings","desktop")})),u.addEventListener("mouseleave",(function(t){S("settings","desktop")})),c.addEventListener("click",(function(t){t.stopPropagation(),"true"===this.getAttribute("aria-expanded")?S("settings","desktop"):h("settings","desktop")})),v.addEventListener("click",(function(t){"true"===this.getAttribute("aria-expanded")?S("tools","mobile"):(S("all","mobile"),h("tools","mobile"))})),k.addEventListener("click",(function(t){"true"===this.getAttribute("aria-expanded")?S("settings","mobile"):(S("all","mobile"),h("settings","mobile"))})),b.addEventListener("change",(function(t){const e=t.target.checked;e?document.querySelector(".t").classList.add("n"):document.querySelector(".t").classList.remove("n"),window.localStorage.setItem("sticky-header",e)})),p.addEventListener("change",(function(t){const e=t.target.checked;e?document.querySelector(".t").classList.add("n"):document.querySelector(".t").classList.remove("n"),window.localStorage.setItem("sticky-header",e)})),l.addEventListener("change",(function(t){window.localStorage.setItem("nq",t.target.checked)})),m.addEventListener("change",(function(t){window.localStorage.setItem("nq",t.target.checked)})),A.addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){"true"===window.localStorage.getItem("nq")&&(window.scrollY>200?A.classList.add("nz"):A.classList.remove("nz"))})),document.addEventListener("keydown",(function(s){"Escape"===s.key&&(S("all"),e.setAttribute("data-state","inactive"),a.setAttribute("data-state","close"),t.setAttribute("data-mobile-menu","close"))})),document.addEventListener("click",(function(t){"true"===r.getAttribute("aria-expanded")&&(r.contains(t.target)||o.contains(t.target)||S("tools","desktop")),"true"===c.getAttribute("aria-expanded")&&(c.contains(t.target)||u.contains(t.target)||S("settings","desktop"))})),null===window.localStorage.getItem("nq")||"true"===window.localStorage.getItem("nq")?(l.setAttribute("checked",""),m.setAttribute("checked",""),null===window.localStorage.getItem("nq")&&window.localStorage.setItem("nq",!0)):(l.removeAttribute("checked"),m.removeAttribute("checked")),"true"===window.localStorage.getItem("sticky-header")?(b.setAttribute("checked",""),p.setAttribute("checked",""),document.querySelector(".t").classList.add("n")):(b.removeAttribute("checked"),p.removeAttribute("checked"),document.querySelector(".t").classList.remove("n")),async function(){let t=function(){try{return JSON.parse(sessionStorage.getItem("search-data"))}catch(t){return null}}();t||(t=await y(),t.length&&sessionStorage.setItem("search-data",JSON.stringify(t)))}()}));