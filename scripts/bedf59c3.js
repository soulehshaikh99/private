document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector("#u"),e=document.querySelector("#a"),a=document.querySelector("#k"),s=document.querySelector("#j"),i=document.querySelector("#v"),r=document.querySelector("#l"),n=document.querySelector("#h"),o=document.querySelector("#n"),d=document.querySelector("#m"),c=document.querySelector("#r"),u=document.querySelector("#g"),l=document.querySelector("#t"),b=document.querySelector("#_"),m=document.querySelector("#q"),p=document.querySelector("#c"),A=document.querySelector("#p");function g(t,e="desktop"){switch(t){case"tools":"desktop"===e?(a.setAttribute("aria-expanded","true"),s.setAttribute("data-state","visible")):(b.setAttribute("aria-expanded","true"),m.setAttribute("data-state","visible"));break;case"settings":"desktop"===e?(r.setAttribute("aria-expanded","true"),n.setAttribute("data-state","visible")):(p.setAttribute("aria-expanded","true"),A.setAttribute("data-state","visible"))}}function k(t,e="desktop"){switch(t){case"tools":"desktop"===e?(a.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible")):(b.setAttribute("aria-expanded","false"),m.setAttribute("data-state","invisible"));break;case"settings":"desktop"===e?(r.setAttribute("aria-expanded","false"),n.setAttribute("data-state","invisible")):(p.setAttribute("aria-expanded","false"),A.setAttribute("data-state","invisible"));break;default:"desktop"===e?(a.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible"),r.setAttribute("aria-expanded","false"),n.setAttribute("data-state","invisible")):"mobile"===e?(b.setAttribute("aria-expanded","false"),m.setAttribute("data-state","invisible"),p.setAttribute("aria-expanded","false"),A.setAttribute("data-state","invisible")):(a.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible"),r.setAttribute("aria-expanded","false"),n.setAttribute("data-state","invisible"),b.setAttribute("aria-expanded","false"),m.setAttribute("data-state","invisible"),p.setAttribute("aria-expanded","false"),A.setAttribute("data-state","invisible"))}}t.addEventListener("click",(function(t){"open"===e.getAttribute("data-state")?(this.setAttribute("data-state","inactive"),e.setAttribute("data-state","close")):(this.setAttribute("data-state","active"),e.setAttribute("data-state","open"))})),a.addEventListener("mouseenter",(function(t){k("all","desktop"),g("tools","desktop")})),s.addEventListener("mouseleave",(function(t){k("tools","desktop")})),a.addEventListener("click",(function(t){t.stopPropagation(),"true"===this.getAttribute("aria-expanded")?k("tools","desktop"):g("tools","desktop")})),i.addEventListener("mouseenter",(function(){k("all","desktop")})),r.addEventListener("mouseenter",(function(t){k("all","desktop"),g("settings","desktop")})),n.addEventListener("mouseleave",(function(t){k("settings","desktop")})),r.addEventListener("click",(function(t){t.stopPropagation(),"true"===this.getAttribute("aria-expanded")?k("settings","desktop"):g("settings","desktop")})),b.addEventListener("click",(function(t){"true"===this.getAttribute("aria-expanded")?k("tools","mobile"):(k("all","mobile"),g("tools","mobile"))})),p.addEventListener("click",(function(t){"true"===this.getAttribute("aria-expanded")?k("settings","mobile"):(k("all","mobile"),g("settings","mobile"))})),d.addEventListener("change",(function(t){const e=t.target.checked;e?document.querySelector(".nq").setAttribute("data-sticky-header","true"):document.querySelector(".nq").setAttribute("data-sticky-header","false"),window.localStorage.setItem("sticky-header",e)})),u.addEventListener("change",(function(t){const e=t.target.checked;e?document.querySelector(".nq").setAttribute("data-sticky-header","true"):document.querySelector(".nq").setAttribute("data-sticky-header","false"),window.localStorage.setItem("sticky-header",e)})),o.addEventListener("change",(function(t){window.localStorage.setItem("nz",t.target.checked),t.target.checked&&window.scrollY>200?l.classList.add("re"):t.target.checked||l.classList.remove("re")})),c.addEventListener("change",(function(t){window.localStorage.setItem("nz",t.target.checked),t.target.checked&&window.scrollY>200?l.classList.add("re"):t.target.checked||l.classList.remove("re")})),l.addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){"true"===window.localStorage.getItem("nz")&&(window.scrollY>200?l.classList.add("re"):l.classList.remove("re"))})),document.addEventListener("keydown",(function(a){"Escape"===a.key&&(k("all"),t.setAttribute("data-state","inactive"),e.setAttribute("data-state","close"),headerUI.setAttribute("data-mobile-menu","close"))})),document.addEventListener("click",(function(t){"true"===a.getAttribute("aria-expanded")&&(a.contains(t.target)||s.contains(t.target)||k("tools","desktop")),"true"===r.getAttribute("aria-expanded")&&(r.contains(t.target)||n.contains(t.target)||k("settings","desktop"))})),null===window.localStorage.getItem("nz")||"true"===window.localStorage.getItem("nz")?(o.setAttribute("checked",""),c.setAttribute("checked",""),null===window.localStorage.getItem("nz")&&window.localStorage.setItem("nz",!0)):(o.removeAttribute("checked"),c.removeAttribute("checked")),"true"===window.localStorage.getItem("sticky-header")?(d.setAttribute("checked",""),u.setAttribute("checked",""),document.querySelector(".nq").setAttribute("data-sticky-header","true")):(d.removeAttribute("checked"),u.removeAttribute("checked"),document.querySelector(".nq").setAttribute("data-sticky-header","false")),async function(){!function(t){const e=new FlexSearch.Index({tokenize:"forward",cache:!0});try{const t=sessionStorage.getItem("search-index");if(!t||0===t.length)throw new Error("Invalid search data found!");const a=JSON.parse(t);for(const[t,s]of Object.entries(a))e.import(t,s)}catch(a){for(let a of t)e.add(a.id,a.title);const s={};e.export(((t,e)=>{s[t]=JSON.parse(e),sessionStorage.setItem("search-index",JSON.stringify(s))}))}}(await async function(){let t=sessionStorage.getItem("search-data");if(t)try{return JSON.parse(t)}catch(t){}try{const t=await fetch("/data/search.json",{method:"GET",headers:{"Content-Type":"application/json"}}),e=await t.json();return sessionStorage.setItem("search-data",JSON.stringify(e)),e}catch(t){return null}}())}()}));